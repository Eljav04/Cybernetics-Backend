@{
    ViewData["Title"] = "Admin | Update";
}

@section MyCSS {
    <link href="~/css/admin.css" rel="stylesheet" />
}

@model Product

<h3 class="AdminPanel_Info">
        Update product
    </h3>
    <p class="AdminPanel_Choose">
        Enter all required info in the input fileds for update
    </p>

<form class="SelectForm Add_Form" action="Update" method="get">
    <label>Choose a product:</label>
    @Html.DropDownList("ProductID", (SelectList)ViewBag.ProductsSelect, "Choose")

</form>

<form class="Update_Form Add_Form" action="Update" method="post">
        <input asp-for="ID" type="hidden">
        <input asp-for="Image" type="hidden">

        <label asp-for="Name">Product name</label>
        <input asp-for="Name" type="text">

        <label asp-for="Quantity">Product quantity</label>
        <input asp-for="Quantity">

        <label asp-for="Price">Product price</label>
        <input asp-for="Price">

    <label>Product category</label>

    @Html.DropDownList("CategoryID", (SelectList)ViewBag.CategoriesSelect)


        <input class="Submit" type="submit" value="Submit">
    </form>

<script>
    let selectSection = document.getElementById("ProductID");
    let form = document.querySelector(".SelectForm");

    selectSection.addEventListener("change", () => {
        form.submit();
    })
</script>

